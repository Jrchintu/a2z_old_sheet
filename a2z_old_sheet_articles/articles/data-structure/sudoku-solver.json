{
    "dislikes": 3,
    "video": "FWAIf_EVUKE",
    "publishedOn": "Sun Mar 24 2024 22:09:51 GMT+0530 (India Standard Time)",
    "slug": "sudoku-solver",
    "aid": "1604",
    "tuf_plus": "https://takeuforward.org/plus/dsa/problems/sudoko-solver",
    "title": "Sudoku Solver",
    "topics": [
        {
            "topic-id": "data-structure",
            "topic-title": "Data Structures"
        },
        {
            "topic-id": "recursion",
            "topic-title": "Recursion"
        }
    ],
    "category_tag": "data-structure",
    "likes": 75,
    "preview": "Problem Statement: Given a 9x9 incomplete sudoku, solve it such that it becomes valid sudoku. Valid sudoku has the following properties. 1. All the rows should be filled with numbers(1 - 9) exactly...",
    "content": "<!-- wp:paragraph -->\n<p><strong>Problem Statement:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Given a 9x9 incomplete sudoku, solve it such that it becomes valid sudoku. Valid sudoku has the following properties.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1. All the rows should be filled with numbers(1 - 9) exactly once.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2. All the columns should be filled with numbers(1 - 9) exactly once.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3. Each 3x3 submatrix should be filled with numbers(1 - 9) exactly once.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong><em>Note</em></strong>: Character <strong>'.'</strong> indicates empty cell.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Example:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:preformatted -->\n<pre class=\"wp-block-preformatted\"><strong>Input:</strong>                               <strong>Output:</strong>\n<img width=\"601.5703069236259\" height=\"271\" src=\"https://lh5.googleusercontent.com/k78fKDRjAJU3CIBgMRYCDEG93ndte0k85JLWYK6IumRreKBRv5zcKDkc1Ms_E6Bi_2M4twPY5GWos_0kQNkZO9AXRtowc5sKe5KZMJpcCqKddtXDr7xuA-HZDIttJ_-5RE30NlDJ\">\n\n<strong>Explanation:</strong>\n The empty cells are filled with the possible numbers. There can exist many such arrangements of numbers. The above solution is one of them. Let\u2019s see how we can fill the cells below.</pre>\n<!-- /wp:preformatted -->\n\n<!-- wp:heading {\"level\":3} -->\n<h3><strong>Solution</strong></h3>\n<!-- /wp:heading -->\n\n<!-- wp:paragraph {\"textColor\":\"accent\"} -->\n<p class=\"has-accent-color has-text-color\"><strong><em>Disclaimer</em></strong>: <em>Don't jump directly to the solution, try it out yourself first.</em></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Intuition:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Since we have to fill the empty cells with available possible numbers and we can also have multiple solutions, the main intuition is to try every possible way of filling the empty cells. And the more correct way to try all possible solutions is to use recursion. In each call to the recursive function, we just try all the possible numbers for a particular cell and transfer the updated board to the next recursive call.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Approach</strong>:</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>Let\u2019s see the step by step approach. Our main recursive function(solve()) is going to just do a plain matrix traversal of the sudoku board. When we find an empty cell, we pause and try to put all available numbers(1 - 9) in that particular empty cell.</li><li>&nbsp;We need another loop to do that. But wait, we forgot one thing - the board has to satisfy all the conditions, right? So, for that we have another function(isValid()) which will check whether the number we have inserted into that empty cell will not violate any conditions.</li><li>&nbsp;If it is violating, we try with the next number. If it is not, we call the same function recursively, but this time with the updated state of the board. Now, as usual it tries to fill the remaining cells in the board in the same way.</li><li>Now we'll come to the returning values. If at any point we cannot insert any numbers from 1 - 9 in a particular cell, it means the current state of the board is wrong and we need to backtrack. An important point to follow is, we need to return false to let the parent function(which is called this function) know that we cannot fill this way. This will serve as a hint to that function, that it needs to try with the next possible number. Refer to the picture below.</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><img width=\"602\" height=\"584\" src=\"https://lh6.googleusercontent.com/K6GqbUp1oiY3S01bZtxY6S7N8GCiLBke55d46BJ0fm2Eia8EDU284lyfWHoJ4kE_T0xpPh-ZU-GwNiCZ6Z9RtPDWqUJSBSHYp3PQFLulvIufpuI5dQnoz3Mr1TWZ4nF9S0idTtwM\"></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li>&nbsp;If a recursive call returns true, we can assume that we found one possible way of filling and we simply do an <strong>early return</strong>.</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><strong>Validating Board</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:list -->\n<ul><li><strong>&nbsp;</strong>Now, let's see how we are validating the sudoku board. After determining a number for a cell(at i'th row, j'th col), we try to check the validity. As we know, a valid sudoku needs to satisfy 3 conditions, we can use three loops. But we can do within a single loop itself. Let's try to understand that.</li><li>We loop from 0 to 8 and check the values - board[i][col](1st condition) and board[row][i](2nd condition), whether the number is already included. For the 3rd condition - the expression (3 * (row / 3) + i / 3) evaluates to the row numbers of that 3x3 submatrix and the expression (3 * (col / 3) + i % 3) evaluates to the column numbers.</li><li>For eg, if row= 5 and col= 3, the cells visited are</li></ul>\n<!-- /wp:list -->\n\n<!-- wp:paragraph -->\n<p><img width=\"220.715206185567\" height=\"151\" src=\"https://lh5.googleusercontent.com/GnjFYRHaRovFUhHEOxNU5cAwvSnJ1rZGxNB_0Iax5h4O5fX12kb5DPKbZn0lvej1NS_0AW4Khl4NYrpcA0hKpTwP5CafGGUpUZDLCrG8yxzN2jr0XdElxirzRqiWjyx1TlRthrLv\"></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>It covers all the cells in the sub-matrix.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Code:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n\n    <div class=\"code-section secondary-details\">\n    <div class=\"code-tabs\">\n    <button class=\"code-tab dsa_article_code_active\" data-lang=\"cpp\">C++</button>\n    <button class=\"code-tab\" data-lang=\"java\">Java</button>\n    <button class=\"code-tab\" data-lang=\"python\">Python</button>\n    \n    <svg width=\"17\" class=\"copy-btn\" height=\"20\" viewBox=\"0 0 17 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M2 20C1.45 20 0.979002 19.804 0.587002 19.412C0.195002 19.02 -0.000664969 18.5493 1.69779e-06 18V4H2V18H13V20H2ZM6 16C5.45 16 4.979 15.804 4.587 15.412C4.195 15.02 3.99934 14.5493 4 14V2C4 1.45 4.196 0.979002 4.588 0.587002C4.98 0.195002 5.45067 -0.000664969 6 1.69779e-06H15C15.55 1.69779e-06 16.021 0.196002 16.413 0.588002C16.805 0.980002 17.0007 1.45067 17 2V14C17 14.55 16.804 15.021 16.412 15.413C16.02 15.805 15.5493 16.0007 15 16H6ZM6 14H15V2H6V14Z\">\n    </path>\n    </svg>\n    </div>\n    <div class=\"code-content\">\n    <div class=\"code-block dsa_article_code_active\" data-lang=\"cpp\">\n    \n<!-- /wp:paragraph -->\n\n<!-- wp:code -->\n<pre class=\"wp-block-code\"><code lang=\"cpp\" class=\"language-cpp\">#include &lt;iostream&gt;\n\n#include &lt;vector&gt;\n\nusing namespace std;\n\nbool isValid(vector &lt; vector &lt; char &gt;&gt; &amp; board, int row, int col, char c) {\n  for (int i = 0; i &lt; 9; i++) {\n    if (board[i][col] == c)\n      return false;\n\n    if (board[row][i] == c)\n      return false;\n\n    if (board[3 * (row / 3) + i / 3][3 * (col / 3) + i % 3] == c)\n      return false;\n  }\n  return true;\n}\n\nbool solveSudoku(vector &lt; vector &lt; char &gt;&gt; &amp; board) {\n  for (int i = 0; i &lt; board.size(); i++) {\n    for (int j = 0; j &lt; board[0].size(); j++) {\n      if (board[i][j] == '.') {\n        for (char c = '1'; c &lt;= '9'; c++) {\n          if (isValid(board, i, j, c)) {\n            board[i][j] = c;\n\n            if (solveSudoku(board))\n              return true;\n            else\n              board[i][j] = '.';\n          }\n        }\n\n        return false;\n      }\n    }\n  }\n  return true;\n}\nint main() {\n    vector&lt;vector&lt;char&gt;&gt;board{\n        {'9', '5', '7', '.', '1', '3', '.', '8', '4'},\n        {'4', '8', '3', '.', '5', '7', '1', '.', '6'},\n        {'.', '1', '2', '.', '4', '9', '5', '3', '7'},\n        {'1', '7', '.', '3', '.', '4', '9', '.', '2'},\n        {'5', '.', '4', '9', '7', '.', '3', '6', '.'},\n        {'3', '.', '9', '5', '.', '8', '7', '.', '1'},\n        {'8', '4', '5', '7', '9', '.', '6', '1', '3'},\n        {'.', '9', '1', '.', '3', '6', '.', '7', '5'},\n        {'7', '.', '6', '1', '8', '5', '4', '.', '9'}\n    };\n   \n    solveSudoku(board);\n        \t\n    for(int i= 0; i&lt; 9; i++){\n        for(int j= 0; j&lt; 9; j++)\n            cout&lt;&lt;board[i][j]&lt;&lt;\" \";\n            cout&lt;&lt;\"\\n\";\n    }\n    return 0;\n}\n</code></pre>\n<!-- /wp:code -->\n\n<!-- wp:paragraph -->\n<p><strong>Output:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>9 5 7 6 1 3 2 8 4<br>4 8 3 2 5 7 1 9 6<br>6 1 2 8 4 9 5 3 7<br>1 7 8 3 6 4 9 5 2<br>5 2 4 9 7 1 3 6 8<br>3 6 9 5 2 8 7 4 1<br>8 4 5 7 9 2 6 1 3<br>2 9 1 4 3 6 8 7 5<br>7 3 6 1 8 5 4 2 9</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Time Complexity:</strong> O(9<sup>(n ^ 2)</sup>), in the worst case, for each cell in the n<sup>2</sup> board, we have 9 possible numbers.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Space Complexity</strong>: O(1), since we are refilling the given board itself, there is no extra space required, so constant space complexity.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n\n    </div>\n    <div class=\"code-block \" data-lang=\"java\">\n    \n<!-- /wp:paragraph -->\n\n<!-- wp:code -->\n<pre class=\"wp-block-code\"><code lang=\"java\" class=\"language-java\">import java.util.*;\n\nclass Solution {\n\n  public static boolean solveSudoku(char[][] board) {\n    for (int i = 0; i &lt; 9; i++) {\n      for (int j = 0; j &lt; 9; j++) {\n        if (board[i][j] == '.') {\n\n          for (char c = '1'; c &lt;= '9'; c++) {\n            if (isValid(board, i, j, c)) {\n              board[i][j] = c;\n\n              if (solveSudoku(board))\n                return true;\n              else\n                board[i][j] = '.';\n            }\n          }\n\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  public static boolean isValid(char[][] board, int row, int col, char c) {\n    for (int i = 0; i &lt; 9; i++) {\n      if (board[i][col] == c)\n        return false;\n\n      if (board[row][i] == c)\n        return false;\n\n      if (board[3 * (row / 3) + i / 3][3 * (col / 3) + i % 3] == c)\n        return false;\n    }\n    return true;\n  }\n\n  public static void main(String[] args) {\n\n   char[][] board= {\n                    {'9', '5', '7', '.', '1', '3', '.', '8', '4'},\n                    {'4', '8', '3', '.', '5', '7', '1', '.', '6'},\n                    {'.', '1', '2', '.', '4', '9', '5', '3', '7'},\n                    {'1', '7', '.', '3', '.', '4', '9', '.', '2'},\n                    {'5', '.', '4', '9', '7', '.', '3', '6', '.'},\n                    {'3', '.', '9', '5', '.', '8', '7', '.', '1'},\n                    {'8', '4', '5', '7', '9', '.', '6', '1', '3'},\n                    {'.', '9', '1', '.', '3', '6', '.', '7', '5'},\n                    {'7', '.', '6', '1', '8', '5', '4', '.', '9'}\n                    };\n    solveSudoku(board);\n\n    for (int i = 0; i &lt; 9; i++) {\n      for (int j = 0; j &lt; 9; j++)\n        System.out.print(board[i][j] + \" \");\n      System.out.println();\n    }\n  }\n}</code></pre>\n<!-- /wp:code -->\n\n<!-- wp:paragraph -->\n<p><strong>Output:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>9 5 7 6 1 3 2 8 4<br>4 8 3 2 5 7 1 9 6<br>6 1 2 8 4 9 5 3 7<br>1 7 8 3 6 4 9 5 2<br>5 2 4 9 7 1 3 6 8<br>3 6 9 5 2 8 7 4 1<br>8 4 5 7 9 2 6 1 3<br>2 9 1 4 3 6 8 7 5<br>7 3 6 1 8 5 4 2 9</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Time Complexity:</strong> O(9<sup>(n ^ 2)</sup>), in the worst case, for each cell in the n<sup>2</sup> board, we have 9 possible numbers.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Space Complexity</strong>: O(1), since we are refilling the given board itself, there is no extra space required, so constant space complexity.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n\n    </div>\n    <div class=\"code-block\" data-lang=\"python\">\n    \n<!-- /wp:paragraph -->\n\n<!-- wp:code -->\n<pre class=\"wp-block-code\"><code lang=\"python\" class=\"language-python\">from typing import List\n\n\n\n\ndef isValid(board: List[List[str]], row: int, col: int, c: str) -> bool:\n    for i in range(9):\n        if board[i][col] == c:\n            return False\n        if board[row][i] == c:\n            return False\n        if board[3 * (row // 3) + i // 3][3 * (col // 3) + i % 3] == c:\n            return False\n    return True\n\n\n\n\ndef solveSudoku(board: List[List[str]]) -> bool:\n    for i in range(len(board)):\n        for j in range(len(board[0])):\n            if board[i][j] == \".\":\n                for c in \"123456789\":\n                    if isValid(board, i, j, c):\n                        board[i][j] = c\n                        if solveSudoku(board):\n                            return True\n                        else:\n                            board[i][j] = \".\"\n                return False\n    return True\n\n\n\n\nif __name__ == \"__main__\":\n    board = [\n        [\"9\", \"5\", \"7\", \".\", \"1\", \"3\", \".\", \"8\", \"4\"],\n        [\"4\", \"8\", \"3\", \".\", \"5\", \"7\", \"1\", \".\", \"6\"],\n        [\".\", \"1\", \"2\", \".\", \"4\", \"9\", \"5\", \"3\", \"7\"],\n        [\"1\", \"7\", \".\", \"3\", \".\", \"4\", \"9\", \".\", \"2\"],\n        [\"5\", \".\", \"4\", \"9\", \"7\", \".\", \"3\", \"6\", \".\"],\n        [\"3\", \".\", \"9\", \"5\", \".\", \"8\", \"7\", \".\", \"1\"],\n        [\"8\", \"4\", \"5\", \"7\", \"9\", \".\", \"6\", \"1\", \"3\"],\n        [\".\", \"9\", \"1\", \".\", \"3\", \"6\", \".\", \"7\", \"5\"],\n        [\"7\", \".\", \"6\", \"1\", \"8\", \"5\", \"4\", \".\", \"9\"],\n    ]\n    solveSudoku(board)\n    for i in range(9):\n        for j in range(9):\n            print(board[i][j], end=\" \")\n        print()</code></pre>\n<!-- /wp:code -->\n\n<!-- wp:paragraph -->\n<p><strong>Output:</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>9 5 7 6 1 3 2 8 4<br>4 8 3 2 5 7 1 9 6<br>6 1 2 8 4 9 5 3 7<br>1 7 8 3 6 4 9 5 2<br>5 2 4 9 7 1 3 6 8<br>3 6 9 5 2 8 7 4 1<br>8 4 5 7 9 2 6 1 3<br>2 9 1 4 3 6 8 7 5<br>7 3 6 1 8 5 4 2 9</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Time Complexity:</strong> O(9<sup>(n ^ 2)</sup>), in the worst case, for each cell in the n<sup>2</sup> board, we have 9 possible numbers.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Space Complexity</strong>: O(1), since we are refilling the given board itself, there is no extra space required, so constant space complexity.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n\n    </div>\n    </div>\n    </div>\n    \n<!-- /wp:paragraph -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\"><p><em>Special thanks to\u00a0<strong><strong><a href=\"https://www.linkedin.com/in/prathap02/\" target=\"_blank\" rel=\"noreferrer noopener nofollow\">Prathap P</a></strong></strong>\u00a0<em>and\u00a0<em><a href=\"https://www.linkedin.com/in/imsudip/\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>Sudip Ghosh</strong></a></em></em>\u00a0for contributing to this article on takeUforward. If you also wish to share your knowledge with the takeUforward fam,\u00a0</em><a href=\"https://takeuforward.org/interviews/paid-work-from-home-internship-at-takeuforward/\">please check out this article</a></p></blockquote>\n<!-- /wp:quote -->"
}