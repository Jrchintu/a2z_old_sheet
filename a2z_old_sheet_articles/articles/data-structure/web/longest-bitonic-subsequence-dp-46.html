<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Longest Bitonic Subsequence | (DP-46)</title>
<style>
        /* A clean, modern, and responsive base style for the articles */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            /* line-height: 1.7; */
            color: #333;
            background-color: #fdfdfd;
            margin: 5px;
            padding: 0;
        }

        /* Main container for the article content */
        .container {
            /* margin: 5px; */
            /* Replaced '20px auto' to add margin on all sides */
            padding: 10px;
            background-color: #fff;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        /* Main article title */
        h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 0.5em;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 0.5em;
            text-align: center;
        }

        /* Make images responsive and centered */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            display: block;
            /* To allow auto margins to work */
            margin: 1em auto;
            /* Adds some vertical spacing and centers horizontally */
        }

        /* Center figures which often wrap images */
        figure {
            text-align: center;
            margin: 1.5em 0;
        }

        /* Center and style YouTube video wrapper for responsiveness */
        .yt-video-wrapper {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 56.25%;
            /* 16:9 Aspect Ratio */
            margin: 1.5em auto;
            /* Center block element */
            border-radius: 8px;
        }

        .yt-video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Basic code block styling */
        pre {
            background-color: #2d2d2d;
            /* A common dark background for code */
            color: #f8f8f2;
            padding: 10px;
            margin: 0px;
            border-radius: 5px;
            overflow-x: auto;
            /* Allow horizontal scrolling for long code lines */
            font-family: "Fira Code", "Consolas", "Monaco", monospace;
            font-size: 0.9em;
        }

        code {
            font-family: "Fira Code", "Consolas", "Monaco", monospace;
        }

        /* Improve styling for links */
        a {
            color: #3498db;
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }

        a:hover {
            color: #2980b9;
            text-decoration: underline;
        }

        /* --- Code Section Tabs Styling --- */
        .code-tabs {
            display: flex;
            border-bottom: 1px solid #e7e7e7;
            margin-bottom: 1em;
            align-items: center;
        }

        .code-tab {
            padding: 10px 15px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-size: 1em;
            color: #555;
            transition: all 0.2s ease-in-out;
        }

        .code-tab:hover {
            background-color: #f9f9f9;
            color: #333;
        }

        .code-tab.dsa_article_code_active {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
        }

        .copy-btn {
            margin-left: auto;
            cursor: pointer;
            padding: 10px;
        }

        .copy-btn path {
            fill: #aaa;
            transition: fill 0.2s;
        }

        .copy-btn:hover path {
            fill: #333;
        }

        .copy-btn.dsa_article_code_active path {
            fill: #3498db;
        }

        .code-block {
            display: none;
        }

        .code-block.dsa_article_code_active {
            display: block;
        }

        /* --- End Code Section Tabs Styling --- */

        /* --- Accordion/Dropdown Styling --- */
        details {
            margin-bottom: 1em;
            border: 1px solid #e7e7e7;
            border-radius: 6px;
            overflow: hidden;
            /* Keeps content within rounded corners */
            padding: 0;
            /* Reset any default padding */
        }

        summary {
            list-style: none;
            /* Hide the default marker */
            cursor: pointer;
            padding: 15px 20px;
            background-color: #f9f9f9;
            font-weight: 500;
            color: #2c3e50;
            transition: background-color 0.2s ease-in-out;
        }

        summary::-webkit-details-marker {
            display: none;
            /* Hide default marker for Chrome/Safari */
        }

        summary:hover {
            background-color: #f1f1f1;
        }

        /* Content inside the dropdowns */
        .common-drops,
        .atricle_example_content {
            padding: 10px 10px 0;
            border-bottom: 10px;
            background-color: #fff;
            border-top: 1px solid #e7e7e7;
        }

        /* Full padding for example */
        .atricle_example_content {
            padding: 10px;
        }

        /* Additional padding for details content that doesn't have specific classes */
        details> :not(summary) {
            padding-left: 10px;
            padding-right: 10px;
        }

        .dsa_article_youtube_video .yt-video-wrapper {
            padding-top: 56.25%;
            margin: 0;
            border-radius: 0;
            padding-left: 0;
            padding-right: 0;
        }

        /* Nested dropdown summaries */
        .secondary-summary {
            background-color: #fafafa;
            padding: 12px 20px;
            font-weight: normal;
        }

        .secondary-summary:hover {
            background-color: #f0f0f0;
        }

        /* --- End Accordion/Dropdown Styling --- */

        /* Hide specific UI elements based on user request */
        .problem-buttons img,
        .arrow-svg,
        .box-e.tooltip,
        .three-boxes.box-d svg,
        .horizontal_navbar_dsa_article {
            display: none;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                /* margin: 5px; */
                padding: 10px;
            }

            h1 {
                font-size: 2em;
            }

            .code-tabs {
                flex-wrap: wrap;
                /* Allow tabs to wrap on small screens */
            }

            /* Reduce padding on mobile for details sections */
            details> :not(summary) {
                padding-left: 10px;
                padding-right: 10px;
            }

            .common-drops,
            .atricle_example_content {
                padding: 10px 10px 0;
            }

            .atricle_example_content {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
<div class="container">
<header>
<h1>Longest Bitonic Subsequence | (DP-46)</h1>
</header>
<article>
<!-- wp:paragraph -->
<p><strong>Problem Statement: </strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Longest Bitonic Subsequence</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><em>Prerequisite: </em><a href="https://takeuforward.org/data-structure/longest-increasing-subsequence-dp-41/" rel="noopener" target="_blank"><em>Longest increasing subsequence</em></a><em>, </em><a href="https://takeuforward.org/data-structure/printing-longest-increasing-subsequence-dp-42/" rel="noopener" target="_blank"><em>Printing Longest Increasing subsequence</em></a></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong><a href="https://www.codingninjas.com/codestudio/problems/longest-bitonic-sequence_1062688?source=youtube&amp;campaign=striver_dp_videos&amp;utm_source=youtube&amp;utm_medium=affiliate&amp;utm_campaign=striver_dp_videos" rel="noopener" target="_blank">Problem Link</a>: </strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Given an array, ‘Arr’ of length ‘n’, find the longest bitonic subsequence.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="140" src="assets/48a79ec0bffab1f1a38087f39ae7347c" width="624"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Problem Statement:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Let us first understand what a bitonic subsequence means.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>A bitonic subsequence is a subsequence of an array in which the elements can be any of these three:</p>
<!-- /wp:paragraph -->
<!-- wp:list -->
<ul><li>First, increase till a point and then decrease.</li><li>Goes on increasing (Longest increasing subsequence)</li><li>Goes on decreasing (Longest decreasing subsequence)</li></ul>
<!-- /wp:list -->
<!-- wp:paragraph -->
<p><img height="257" src="assets/b670bea867072fa8acb33b729d3cc694" width="624"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Bitonic subsequence for the below example is:</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="297" src="assets/482e404e4c43cf26cbc39fdebaf88c5a" width="552"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Similarly, a subsequence having the elements in either increasing or decreasing order only also counts as a bitonic subsequence. For example:</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="151" src="assets/87761f282d5872722f9cb5a786779946" width="537"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>We need to return the length of the longest bitonic subsequence as our answer. </p>
<!-- /wp:paragraph -->
<!-- wp:heading {"level":3} -->
<h3><strong>Solution</strong></h3>
<!-- /wp:heading -->
<!-- wp:heading {"level":3} -->
<h3><strong>Intuition:</strong></h3>
<!-- /wp:heading -->
<!-- wp:paragraph -->
<p>The length of the increasing and then decreasing subsequence gives us the hint to think in terms of the longest increasing subsequence (LIS). Now let us revise the approach for finding the LIS as discussed in <a href="https://takeuforward.org/data-structure/printing-longest-increasing-subsequence-dp-42/" rel="noopener" target="_blank"><em>Printing Longest Increasing subsequence</em></a>. Readers are highly advised to understand that approach first. In that solution, we write two nested loops to get a dp array whose maximum element gives us the length of the LIS as shown below:</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="339" src="assets/4e983f8fd2105974ecff4f2e80f58586" width="624"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Now, what does this dp[i] represent? It represents the LIS in the array ‘arr’ from index 0 to index i in the array ending with element arr[i]. Therefore the maximum value of dp[i] gives us the LIS of the array.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="390" src="assets/800aa4822e84cbe2cf571be3d372b619" width="629"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Now, after understanding the approach to finding the LIS let us revisit the problem of the longest bitonic subsequence and how it is linked with the problem of LIS.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>The below figure breaks general bitonic subsequence into two parts:</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="545" src="assets/a99fd03f50482965624a4295ff062c18" width="624"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>As we can see in the second part of the bitonic subsequence, the decreasing part, LDS from index i to index n-1 can also be thought of in terms of LIS from index n-1 to index i. Therefore we can compute this two LIS separately to determine the length of the bitonic subsequence:</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="204" src="assets/f2ac59b24bd585f3c64457e450bf1701" width="682"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Now with these two separate lengths of LIS, we can calculate the length of the longest bitonic subsequence for each index i. Here index i is acting as the pivot point of the points. Therefore the length of the longest bitonic subsequence at pivot [ i ] will be dp1[i] + dp2[i] -1. (Note that we are counting the element at index i twice in both the parts so we need to subtract 1 from the final answer). We will return the maximum value of this addition as the final answer as the length of the longest bitonic subsequence.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><img height="575" src="assets/3bf17c2b0c5d29d008119192d7ac9f73" width="613"/></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Therefore we will return the max in ans array (6) as the final answer.</p>
<!-- /wp:paragraph -->
<!-- wp:heading {"level":3} -->
<h3><strong>Approach:</strong></h3>
<!-- /wp:heading -->
<!-- wp:paragraph -->
<p>The algorithm approach is stated as follows:</p>
<!-- /wp:paragraph -->
<!-- wp:list -->
<ul><li>Using the approach of the article <a href="https://takeuforward.org/data-structure/printing-longest-increasing-subsequence-dp-42/" rel="noopener" target="_blank"><em>Printing Longest Increasing subsequence</em></a>, find the dp1[ ] array, where dp1[i] gives us the length of the LIS from index 0 to index i.</li><li>Modifying the approach slightly, find the dp2[ ] array, where dp2[i] gives us the length of the LIS from index n-1 to index i. To find this opposite direction LIS simply reverses the direction of variables in the nested loops (see the code).</li><li>At last return the answer (the length of the longest bitonic subsequence) as the maximum value of dp1[i] - dp2[i] -1.</li></ul>
<!-- /wp:list -->
<!-- wp:paragraph -->
<p><strong>Code:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<div class="code-section secondary-details">
<div class="code-tabs">
<button class="code-tab dsa_article_code_active" data-lang="cpp">C++</button>
<button class="code-tab" data-lang="java">Java</button>
<button class="code-tab" data-lang="python">Python</button>
<svg class="copy-btn" fill="none" height="20" viewbox="0 0 17 20" width="17" xmlns="http://www.w3.org/2000/svg">
<path d="M2 20C1.45 20 0.979002 19.804 0.587002 19.412C0.195002 19.02 -0.000664969 18.5493 1.69779e-06 18V4H2V18H13V20H2ZM6 16C5.45 16 4.979 15.804 4.587 15.412C4.195 15.02 3.99934 14.5493 4 14V2C4 1.45 4.196 0.979002 4.588 0.587002C4.98 0.195002 5.45067 -0.000664969 6 1.69779e-06H15C15.55 1.69779e-06 16.021 0.196002 16.413 0.588002C16.805 0.980002 17.0007 1.45067 17 2V14C17 14.55 16.804 15.021 16.412 15.413C16.02 15.805 15.5493 16.0007 15 16H6ZM6 14H15V2H6V14Z">
</path>
</svg>
</div>
<div class="code-content">
<div class="code-block dsa_article_code_active" data-lang="cpp">
<!-- /wp:paragraph -->
<!-- wp:code -->
<pre class="wp-block-code"><code class="language-cpp" lang="cpp">#include &lt;bits/stdc++.h&gt;
using namespace std;

// Function to find the length of the longest bitonic subsequence
int longestBitonicSequence(vector&lt;int&gt;&amp; arr, int n) {
    // Initialize two arrays to store the increasing and decreasing subsequences
    vector&lt;int&gt; dp1(n, 1); // dp1[i] stores the length of the longest increasing subsequence ending at arr[i]
    vector&lt;int&gt; dp2(n, 1); // dp2[i] stores the length of the longest decreasing subsequence ending at arr[i]

    // Calculate the longest increasing subsequence
    for (int i = 0; i &lt; n; i++) {
        for (int prev_index = 0; prev_index &lt; i; prev_index++) {
            if (arr[prev_index] &lt; arr[i]) {
                dp1[i] = max(dp1[i], 1 + dp1[prev_index]);
            }
        }
    }

    // Reverse the direction of nested loops to calculate the longest decreasing subsequence
    for (int i = n - 1; i &gt;= 0; i--) {
        for (int prev_index = n - 1; prev_index &gt; i; prev_index--) {
            if (arr[prev_index] &lt; arr[i]) {
                dp2[i] = max(dp2[i], 1 + dp2[prev_index]);
            }
        }
    }

    int maxi = -1;

    // Find the maximum length of the bitonic subsequence
    for (int i = 0; i &lt; n; i++) {
        maxi = max(maxi, dp1[i] + dp2[i] - 1);
    }

    return maxi;
}

int main() {
    vector&lt;int&gt; arr = {1, 11, 2, 10, 4, 5, 2, 1};
    int n = arr.size();

    cout &lt;&lt; "The length of the longest bitonic subsequence is " &lt;&lt; longestBitonicSequence(arr, n) &lt;&lt; endl;

    return 0;
}
</code></pre>
<!-- /wp:code -->
<!-- wp:paragraph -->
<p><strong>Output:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>The length of the longest bitonic subsequence is 6</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Time Complexity: O(N*N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: There are two nested loops that are run twice.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Space Complexity: O(N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: We are only using two rows of size n.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
</div>
<div class="code-block" data-lang="java">
<!-- /wp:paragraph -->
<!-- wp:code -->
<pre class="wp-block-code"><code class="language-java" lang="java">import java.util.*;

class TUF {
    // Function to find the length of the longest bitonic subsequence
    static int longestBitonicSequence(int[] arr, int n) {
        // Arrays to store lengths of increasing and decreasing subsequences
        int[] dp1 = new int[n];
        int[] dp2 = new int[n];

        // Initialize both arrays with 1, as each element itself is a subsequence of length 1
        Arrays.fill(dp1, 1);
        Arrays.fill(dp2, 1);

        // Calculate the lengths of increasing subsequences
        for (int i = 0; i &lt; n; i++) {
            for (int prevIndex = 0; prevIndex &lt; i; prevIndex++) {
                if (arr[prevIndex] &lt; arr[i]) {
                    dp1[i] = Math.max(dp1[i], 1 + dp1[prevIndex]);
                }
            }
        }

        // Reverse the direction of nested loops and calculate the lengths of decreasing subsequences
        for (int i = n - 1; i &gt;= 0; i--) {
            for (int prevIndex = n - 1; prevIndex &gt; i; prevIndex--) {
                if (arr[prevIndex] &lt; arr[i]) {
                    dp2[i] = Math.max(dp2[i], 1 + dp2[prevIndex]);
                }
            }
        }

        int maxi = -1;

        // Calculate the length of the longest bitonic subsequence
        for (int i = 0; i &lt; n; i++) {
            maxi = Math.max(maxi, dp1[i] + dp2[i] - 1);
        }

        return maxi;
    }

    public static void main(String[] args) {
        int arr[] = {1, 11, 2, 10, 4, 5, 2, 1};
        int n = arr.length;

        System.out.println("The length of the longest bitonic subsequence is " +
                longestBitonicSequence(arr, n));
    }
}
</code></pre>
<!-- /wp:code -->
<!-- wp:paragraph -->
<p><strong>Output:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>The length of the longest bitonic subsequence is 6</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Time Complexity: O(N*N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: There are two nested loops that are run twice.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Space Complexity: O(N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: We are only using two rows of size n.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
</div>
<div class="code-block" data-lang="python">
<!-- /wp:paragraph -->
<!-- wp:code -->
<pre class="wp-block-code"><code class="language-python" lang="python">def longest_bitonic_sequence(arr):
    n = len(arr)

    # Initialize two dynamic programming lists for increasing and decreasing subsequences
    dp1 = [1] * n
    dp2 = [1] * n

    # Calculate the length of the longest increasing subsequence
    for i in range(n):
        for prev_index in range(i):
            if arr[prev_index] &lt; arr[i]:
                dp1[i] = max(dp1[i], 1 + dp1[prev_index])

    # Reverse the direction of nested loops to calculate the length of the longest decreasing subsequence
    for i in range(n - 1, -1, -1):
        for prev_index in range(n - 1, i, -1):
            if arr[prev_index] &lt; arr[i]:
                dp2[i] = max(dp2[i], 1 + dp2[prev_index])

    maxi = -1

    # Find the maximum length of bitonic subsequence by combining increasing and decreasing lengths
    for i in range(n):
        maxi = max(maxi, dp1[i] + dp2[i] - 1)

    return maxi


if __name__ == "__main__":
    arr = [1, 11, 2, 10, 4, 5, 2, 1]
    n = len(arr)

    print("The length of the longest bitonic subsequence is", longest_bitonic_sequence(arr))
</code></pre>
<!-- /wp:code -->
<!-- wp:paragraph -->
<p><strong>Output:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>The length of the longest bitonic subsequence is 6</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Time Complexity: O(N*N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: There are two nested loops that are run twice.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Space Complexity: O(N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: We are only using two rows of size n.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>[tabby title="JavaScript Code"]</p>
<!-- /wp:paragraph -->
<!-- wp:code -->
<pre class="wp-block-code"><code class="language-javascript" lang="javascript">function longestBitonicSequence(arr) {
    const n = arr.length;

    // Initialize two arrays to store increasing and decreasing subsequences
    const dp1 = new Array(n).fill(1); // dp1[i] stores the length of the longest increasing subsequence ending at index i
    const dp2 = new Array(n).fill(1); // dp2[i] stores the length of the longest decreasing subsequence starting at index i

    // Compute the longest increasing subsequence from left to right
    for (let i = 0; i &lt; n; i++) {
        for (let prevIndex = 0; prevIndex &lt; i; prevIndex++) {
            if (arr[prevIndex] &lt; arr[i]) {
                dp1[i] = Math.max(dp1[i], 1 + dp1[prevIndex]);
            }
        }
    }

    // Compute the longest decreasing subsequence from right to left
    for (let i = n - 1; i &gt;= 0; i--) {
        for (let prevIndex = n - 1; prevIndex &gt; i; prevIndex--) {
            if (arr[prevIndex] &lt; arr[i]) {
                dp2[i] = Math.max(dp2[i], 1 + dp2[prevIndex]);
            }
        }
    }

    let maxi = -1;

    // Calculate the length of the longest bitonic subsequence
    for (let i = 0; i &lt; n; i++) {
        maxi = Math.max(maxi, dp1[i] + dp2[i] - 1);
    }

    return maxi;
}

// Main function
function main() {
    const arr = [1, 11, 2, 10, 4, 5, 2, 1];

    const result = longestBitonicSequence(arr);
    console.log("The length of the longest bitonic subsequence is:", result);
}

// Call the main function
main();
</code></pre>
<!-- /wp:code -->
<!-- wp:paragraph -->
<p><strong>Output:</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>The length of the longest bitonic subsequence is 6</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Time Complexity: O(N*N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: There are two nested loops that are run twice.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p><strong>Space Complexity: O(N)</strong></p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
<p>Reason: We are only using two rows of size n.</p>
<!-- /wp:paragraph -->
<!-- wp:paragraph -->
</div>
</div>
</div>
<!-- /wp:paragraph -->
<!-- wp:quote -->
<blockquote class="wp-block-quote"><p><em>Special thanks to <strong><a href="https://www.linkedin.com/in/anshuman-sharma-a1b245194/" rel="noreferrer noopener" target="_blank"><strong>Anshuman Sharma</strong></a></strong> for contributing to this article on takeUforward. If you also wish to share your knowledge with the takeUforward fam, </em><a href="https://takeuforward.org/interviews/paid-work-from-home-internship-at-takeuforward/">please check out this article</a>. <em>If you want to suggest any improvement/correction in this article please mail us at write4tuf@gmail.com</em></p></blockquote>
<!-- /wp:quote -->
</article>
</div>
<script>
        document.addEventListener('DOMContentLoaded', function () {
            // This script fixes the functionality of the code language switcher tabs
            // that are injected from the JSON content. It uses event delegation for efficiency.

            const codeSections = document.querySelectorAll('.code-section');
            let lastSelectedLanguage = localStorage.getItem('lastSelectedLanguage') || 'cpp';

            function updateCodeSection(section, language) {
                const tabs = section.querySelectorAll('.code-tab');
                const blocks = section.querySelectorAll('.code-block');

                tabs.forEach(tab => {
                    tab.classList.toggle('dsa_article_code_active', tab.dataset.lang === language);
                });

                blocks.forEach(block => {
                    block.classList.toggle('dsa_article_code_active', block.dataset.lang === language);
                });
            }

            function updateAllSections(language) {
                lastSelectedLanguage = language;
                localStorage.setItem('lastSelectedLanguage', language);
                codeSections.forEach(section => {
                    updateCodeSection(section, language);
                });
            }

            codeSections.forEach(section => {
                const tabsContainer = section.querySelector('.code-tabs');
                if (!tabsContainer) return;

                // Use event delegation on the container to handle clicks
                tabsContainer.addEventListener('click', (event) => {
                    const tabTarget = event.target.closest('.code-tab');
                    const copyTarget = event.target.closest('.copy-btn');

                    // Handle tab clicks
                    if (tabTarget) {
                        const lang = tabTarget.dataset.lang;
                        if (lang) {
                            updateAllSections(lang);
                        }
                    }

                    // Handle copy button clicks
                    if (copyTarget) {
                        const activeBlock = section.querySelector('.code-block.dsa_article_code_active code');
                        if (activeBlock) {
                            // Use the Clipboard API for modern browsers
                            navigator.clipboard.writeText(activeBlock.innerText).then(() => {
                                copyTarget.classList.add('dsa_article_code_active');
                                setTimeout(() => {
                                    copyTarget.classList.remove('dsa_article_code_active');
                                }, 1500);
                            }).catch(err => {
                                console.error('Failed to copy text: ', err);
                            });
                        }
                    }
                });
            });

            // Set the initial state for all sections on page load
            if (codeSections.length > 0) {
                updateAllSections(lastSelectedLanguage);
            }
        });
    </script>
</body>
</html>