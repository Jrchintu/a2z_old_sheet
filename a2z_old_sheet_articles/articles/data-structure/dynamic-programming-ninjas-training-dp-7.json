{
    "dislikes": 5,
    "video": "",
    "publishedOn": "Sun Mar 24 2024 22:09:55 GMT+0530 (India Standard Time)",
    "slug": "dynamic-programming-ninjas-training-dp-7",
    "aid": "1623",
    "tuf_plus": "https://takeuforward.org/plus/dsa/problems/ninja's-training",
    "title": "Dynamic Programming: Ninja's Training (DP 7)",
    "topics": [
        {
            "topic-id": "arrays",
            "topic-title": "Arrays"
        },
        {
            "topic-id": "data-structure",
            "topic-title": "Data Structures"
        },
        {
            "topic-id": "dynamic-programming",
            "topic-title": "Dynamic Programming"
        },
        {
            "topic-id": "recursion",
            "topic-title": "Recursion"
        }
    ],
    "category_tag": "data-structure",
    "likes": 214,
    "preview": "Introduction To 2D Dynamic Programming / Ninja Training In this article, we will understand the concept of 2D dynamic programming. We will use the problem \u2018Ninja Training\u2019 to understand this concep...",
    "content": "<!-- wp:paragraph -->\n<p><strong>Introduction To 2D Dynamic Programming / Ninja Training</strong></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>In this article, we will understand the concept of 2D dynamic programming. We will use the problem \u2018Ninja Training\u2019 to understand this concept.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>Pre-req: <a href=\"https://takeuforward.org/data-structure/dynamic-programming-introduction/\">Dynamic Programming Introduction</a></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Problem Link: </strong><a href=\"https://www.codingninjas.com/codestudio/problems/ninja-s-training_3621003?source=youtube&amp;campaign=striver_dp_videos&amp;utm_source=youtube&amp;utm_medium=affiliate&amp;utm_campaign=striver_dp_videos\">Ninja Training</a></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p><strong>Problem Statement:</strong> A Ninja has an \u2018N\u2019 Day training schedule. He has to perform one of these three activities (Running, Fighting Practice, or Learning New Moves) each day. There are merit points associated with performing an activity each day. The same activity can\u2019t be performed on two consecutive days. We need to find the maximum merit points the ninja can attain in N Days.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p>We are given a 2D Array POINTS of size \u2018N*3\u2019 which tells us the merit point of specific activity on that particular day. Our task is to calculate the maximum number of merit points that the ninja can earn.</p>\n<!-- /wp:paragraph -->\n\n<!-- wp:paragraph -->\n<p></p>\n<!-- /wp:paragraph -->\n\n<!-- wp:html -->\n<!-- This is Examples Drop-Down -->\n<div id=\"article_examples\">\n<details class=\"article_example_details\">\n<summary class=\"article_example_summary\">\n<span><strong>\nExamples\n</strong>\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"></path>\n</svg>\n</summary>\n<div class=\"atricle_example_content\">\n<pre class=\"wp-block-preformatted\"><!-- Insert New Examples Here -->\n<pre class=\"wp-block-preformatted\"><strong>Example:</strong>\n\n<img width=\"423\" height=\"180\" src=\"https://lh3.googleusercontent.com/fGhKc0zD0hrkqCd-4jAGVuIiJgqFvyk1dSLmTiwWwTXmRmG_LoqpiaOwk1puC3jgVB_HZx3p0v0Ovq66QWwKhaYanSBF8yI09GLZwm-aumvQT8LPuSSvlDerGoN0uz2MyNhX8I67\"></pre>\n</pre>\n</div>\n</details>\n</div>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<!-- This is Practice Section-->\n<div class=\"practice\">\n<span><strong>Practice: </strong></span>\n<div class=\"problem-buttons\">\n\n<!-- Add Problem Link inside href -->\n<a href=\"https://www.codingninjas.com/studio/problems/ninja%E2%80%99s-training_3621003?utm_source=striver&amp;utm_medium=website&amp;utm_campaign=a_zcoursetuf\" target=\"_blank\" rel=\"noopener\">\n<span>Solve Problem</span>\n<img src=\"https://static.takeuforward.org/wp/uploads/2023/04/Group-11-5.png\" alt=\"code-studio\">\n</a>\n</div>\n</div>\n<p class=\"new-disclaimer\"><strong><em>Disclaimer</em></strong>: <em>Don\u2019t jump directly to the solution, try it out\nyourself first. </em></p>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<div class=\"horizontal_navbar_dsa_article\">\n<div class=\"grid_container_three\">\n<a href=\"#brute-force-approach\" class=\"three-boxes box-a\">\nMemorization approach\n</a>\n<a href=\"#better-approach\" class=\"three-boxes box-b\">\nTabulation approach\n</a>\n<a href=\"#optimal-approach\" class=\"three-boxes box-c\">\nSpace Optimization\n</a>\n<a href=\"#dsa_article_video_explanation\" class=\"three-boxes box-d\">\n<svg width=\"26\" height=\"26\" viewBox=\"0 0 20 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M8 10L13.19 7L8 4V10ZM19.56 2.17C19.69 2.64 19.78 3.27 19.84 4.07C19.91 4.87 19.94 5.56 19.94 6.16L20 7C20 9.19 19.84 10.8 19.56 11.83C19.31 12.73 18.73 13.31 17.83 13.56C17.36 13.69 16.5 13.78 15.18 13.84C13.88 13.91 12.69 13.94 11.59 13.94L10 14C5.81 14 3.2 13.84 2.17 13.56C1.27 13.31 0.69 12.73 0.44 11.83C0.31 11.36 0.22 10.73 0.16 9.93C0.0900001 9.13 0.0599999 8.44 0.0599999 7.84L0 7C0 4.81 0.16 3.2 0.44 2.17C0.69 1.27 1.27 0.69 2.17 0.44C2.64 0.31 3.5 0.22 4.82 0.16C6.12 0.0899998 7.31 0.0599999 8.41 0.0599999L10 0C14.19 0 16.8 0.16 17.83 0.44C18.73 0.69 19.31 1.27 19.56 2.17Z\" fill=\"red\"></path>\n</svg>\n\n</a>\n<div class=\"box-e tooltip\">\n<svg viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M12.842 9.25L11.9577 10.17C11.2502 10.89 10.8081 11.5 10.8081 13H8.84297V12.5C8.84297 11.39 9.28511 10.39 9.99255 9.67L11.2109 8.41C11.5745 8.05 11.7906 7.55 11.7906 7C11.7906 6.46957 11.5836 5.96086 11.2151 5.58579C10.8465 5.21071 10.3467 5 9.82552 5C9.30434 5 8.80451 5.21071 8.43598 5.58579C8.06745 5.96086 7.86041 6.46957 7.86041 7H5.89531C5.89531 5.93913 6.30938 4.92172 7.04644 4.17157C7.7835 3.42143 8.78316 3 9.82552 3C10.8679 3 11.8675 3.42143 12.6046 4.17157C13.3417 4.92172 13.7557 5.93913 13.7557 7C13.7543 7.84324 13.4259 8.65183 12.842 9.25ZM10.8081 17H8.84297V15H10.8081M9.82552 0C8.53521 0 7.25754 0.258658 6.06545 0.761205C4.87337 1.26375 3.79021 2.00035 2.87783 2.92893C1.03519 4.8043 0 7.34784 0 10C0 12.6522 1.03519 15.1957 2.87783 17.0711C3.79021 17.9997 4.87337 18.7362 6.06545 19.2388C7.25754 19.7413 8.53521 20 9.82552 20C12.4314 20 14.9306 18.9464 16.7732 17.0711C18.6158 15.1957 19.651 12.6522 19.651 10C19.651 4.47 15.2296 0 9.82552 0Z\" fill=\"black\"></path>\n</svg>\n<div class=\"bottom\">\n<p>Expand any one approach by clicking the given options in the bar. Clicking one approach on bar,\ncloses all other expands. You can manually expand more than one approach at a time</p>\n<i></i>\n</div>\n\n</div>\n</div>\n</div>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<!-- This is Approaches Drop-Down -->\n<div class=\"dsa_article_dropdown_approachs \">\n\n<!-- Brute Force Approach Starts from here -->\n<div id=\"brute-force-approach\">\n<details>\n<summary class=\"main-summary\">\n<span>\nMemorization Approach\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"common-drops\">\n<details class=\"secondary-details\" open=\"\">\n<summary class=\"secondary-summary\">\n<span>\nAlgorithm / Intuition\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"approach-algorithm\">\n\n<!-- Insert Algorithm / Intuition of Brute Force Apporach Here -->\n<p><strong>Why a Greedy Solution doesn\u2019t work?</strong></p>\n<p>The first approach that comes to our mind is the greedy approach. We will see with an example how a greedy solution doesn\u2019t give the correct solution.</p>\n<p>Consider this example:</p>\n<p><img width=\"435\" height=\"148\" src=\"https://lh3.googleusercontent.com/c6H_EhoFPvwqo-joUf7lU0Ez0qvomD-KIb92uD_6dwhgfYXtXsjoGRJ1fGcnVa_gzMZWOj86Ew2C0tkAgDQ8QPO8vE_HYkLp2nbP9mQu-jVSZ5d1EVDmqYcWolzMizzUuhnuVZ1E\"></p>\n<p>We want to know the maximum amount of merit points. For the greedy approach, we will consider the maximum point activity each day, respecting the condition that activity can\u2019t be performed on consecutive days.</p>\n<ul><li>On Day 0, we will consider the activity with maximum points i.e 50.</li><li>On Day 1, the maximum point activity is 100 but we can\u2019t perform the same activity in two consecutive days. Therefore we will take the next maximum point activity of 11 points.&nbsp;</li><li>Total Merit points by Greedy Solution : 50+11 = 61</li></ul>\n<p>As this is a small example we can clearly see that we have a better approach, to consider activity with 10 points on day0 and 100 points on day1. It gives us the total merit points as 110 which is better than the greedy solution.</p>\n<p><img width=\"449\" height=\"181\" src=\"https://lh5.googleusercontent.com/_5BRpx0D7ksdO_li77HKHovtMRRvEUd6EjWpBER1R2mfFyeq8QtdupHrp4ZqZ-A5op0PZ9fb4PcxwSJDcK2kUaOQsJLKDuAj1FGZX4PUioRnVgki8qARKGt1jxvx_bduv_pZzVkj\"></p>\n<p>So we see that the greedy solution restricts us from choices and we can lose activity with better points on the next day in the greedy solution. Therefore, it is better to try out all the possible choices as our next solution. We will use <strong>recursion </strong>to generate all the possible choices.</p>\n<p><strong>Steps to form the recursive solution:&nbsp;</strong></p>\n<p>We will first form the recursive solution by the three points mentioned in <a href=\"https://takeuforward.org/data-structure/dynamic-programming-introduction/\">Dynamic Programming Introduction</a>.&nbsp;</p>\n<p><strong>Step 1: </strong>Express the problem in terms of indexes.</p>\n<p>Now given an example, what is the one clear parameter which breaks the problem in different steps?<br>It is the number of days. Clearly, we have n days (from 0 to n-1), so one changing parameter which can be expressed in terms of indexes is \u2018<strong>day\u2019</strong>.</p>\n<p><img width=\"260\" height=\"85\" src=\"https://lh5.googleusercontent.com/JX2HWCOcTI5COW0JI1Ar3DDO9-XhvdouJICqrIINXiqZAmsQk5eB-qIFHpzbHZduUmZdIrUM_hDigc-K1K0VA9ROwDw9WAMq2BRyV5x9KQJP5dDipP2nI-9uTReO1jscovqMrZxZ\"></p>\n<p>Every day we have the option of three activities(say 0,1,2) to be performed. Suppose that we are at a day_i ( shown in the fig) in the example given below. What is one more parameter along with the day that we must know to try out the correct choices at day_i?</p>\n<p><img width=\"386\" height=\"307\" src=\"https://lh3.googleusercontent.com/gmTQpSKdPYENzJFSjlhAWwIDGwf7UL1FUwMeGbeezW_BvRnQUidJ0trzniLcvFH4FTaXN9YhxyBKFpzYstbBMpFId_lzHsESZFHV9-qzvDJxHHO6dcwuCEOcxZzwFx4BqCwtp7VF\"></p>\n<p>It is the \u2018<strong>last\u2019 </strong>choice that we tried out on day_i+1 ( i+1 in case of top-down recursion). Unless we know the last choice we made, how can we decide whether a choice we are making is correct or not?<br>Now there are three options each day(say 0,1,2) which becomes the \u2018<strong>last\u2019 </strong>of the next day. If we are just starting from the day_n-1, then for the day_n-1 we can try all three options. We can say \u2018<strong>last</strong>\u2019 for day_n-1 is 3.</p>\n<p><img width=\"426\" height=\"344\" src=\"https://lh4.googleusercontent.com/zu4h7c2ZOzovnbrRRSS5dKZ8XmKwjjqoZyoL-UDGLOm4DstUYAr-56ux45bk8CnuIdNp9dnucp1BE9TU3HrY-f7s5A1Ls2UCJaguNMTEOqXblYosLnHEu4JAA6dvm6qY2kTsV4Lg\"></p>\n<p>Therefore our function will take two parameters - <strong>day </strong>and <strong>last</strong>.</p>\n<p><img width=\"529\" height=\"90\" src=\"https://lh3.googleusercontent.com/r8sm6cCBI_19bCk_Lj74zjkTHAwlHY39TZvjY_ac6-MmOQSkD26aVBRlVryky_417c16Dnms5M0q1ywBqTzP6sQalUvv_H9LS_bziYoXJfYcAaCzKHvoAvD4NHyub8uog11tQCoO\"></p>\n<p><strong>Step 2: </strong>Try out all possible choices at a given index.</p>\n<p>We are writing a top-down recursive function. We start from day_n-1 to day_0. Therefore whenever we call the recursive function for the next day we call it for f(day-1, //second parameter).<br>Now let\u2019s discuss the second parameter. The choices we have for a current day depend on the \u2018last\u2019 variable. If we are at our <strong>base case </strong>(day=0), we will have the following choices.</p>\n<p><strong><img width=\"548\" height=\"385\" src=\"https://lh4.googleusercontent.com/z5kKVOd_wGE6fUM2CUeLcXpBGEv98bMrWiWwiwfaGQ0buH4kRU4TdZ7nFs3Ly7Jy5xNp-VT_K1vRywG_OYN-vDS6HZSjY08alBkB4nBS4FYcPJG7-Lcq_Ll70rAGqGUQ3oCUyzA9\"></strong></p>\n\n<p>Other than the base case, whenever we perform an activity \u2018i\u2019 its merit points will be given by <strong>points[day][i]</strong> and to get merit points of the remaining days we will let recursion do its job by passing<strong> f(d-1, i)</strong>. We are passing the second parameter as i because the current day\u2019s activity will become the next day\u2019s last.</p>\n<p><strong>Step 3:&nbsp; Take the maximum of all choices</strong></p>\n<p>As the problem statement wants us to find the maximum merit points, we will take the maximum of all choices.</p>\n<p>The final pseudocode after steps 1, 2, and 3:</p>\n<p><img width=\"479\" height=\"615\" src=\"https://lh6.googleusercontent.com/D99rKrCmR8yGELFs-PuEMYnHTtjCctCBqeVGvNE6ZLHjPPAg44aqUlsxUGlUMCx70qmJrthbaSQM1Gom-DwtcQ9Bzd37mwrf83GuOxUZcX-aabv8ttPYbTJDpXWOuiyY-98h_i5H\"></p>\n<p><strong>Steps to memoize a recursive solution:</strong></p>\n<p>If we draw the recursion tree, we will see that there are overlapping subproblems. In order to convert a recursive solution to the following steps will be taken:</p>\n<ol><li>Create a dp array of size [n][4]. There are total \u2018n\u2019 days and for every day, there can be 4 choices (0,1,2 and 3). Therefore we take the dp array as dp[n][4].</li><li>Whenever we want to find the answer of particular parameters (say f(day,last)), we first check whether the answer is already calculated using the dp array(i.e dp[day][last]!= -1 ). If yes, simply return the value from the dp array.</li><li>If not, then we are finding the answer for the given value for the first time, we will use the recursive relation as usual but before returning from the function, we will set dp[day][last] to the solution we get.</li></ol>\n</div>\n</details>\n<details class=\"code-section secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nCode\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"code-tabs\">\n<button class=\"code-tab dsa_article_code_active\" data-lang=\"cpp\">C++</button>\n<button class=\"code-tab\" data-lang=\"java\">Java</button>\n<button class=\"code-tab\" data-lang=\"python\">Python</button>\n<button class=\"code-tab\" data-lang=\"javascript\">JavaScript</button>\n<svg width=\"17\" class=\"copy-btn\" height=\"20\" viewBox=\"0 0 17 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M2 20C1.45 20 0.979002 19.804 0.587002 19.412C0.195002 19.02 -0.000664969 18.5493 1.69779e-06 18V4H2V18H13V20H2ZM6 16C5.45 16 4.979 15.804 4.587 15.412C4.195 15.02 3.99934 14.5493 4 14V2C4 1.45 4.196 0.979002 4.588 0.587002C4.98 0.195002 5.45067 -0.000664969 6 1.69779e-06H15C15.55 1.69779e-06 16.021 0.196002 16.413 0.588002C16.805 0.980002 17.0007 1.45067 17 2V14C17 14.55 16.804 15.021 16.412 15.413C16.02 15.805 15.5493 16.0007 15 16H6ZM6 14H15V2H6V14Z\">\n</path>\n</svg>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block dsa_article_code_active\" data-lang=\"cpp\">\n<pre class=\"wp-block-code\"><code lang=\"cpp\" class=\"language-cpp\">\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\n// Recursive function to calculate the maximum points for the ninja training\nint f(int day, int last, vector&lt;vector&lt;int&gt;&gt; &amp;points, vector&lt;vector&lt;int&gt;&gt; &amp;dp) {\n  // If the result for this day and last activity is already calculated, return it\n  if (dp[day][last] != -1) return dp[day][last];\n\n  // Base case: When we reach the first day (day == 0)\n  if (day == 0) {\n    int maxi = 0;\n    // Calculate the maximum points for the first day by choosing an activity\n    // different from the last one\n    for (int i = 0; i &lt;= 2; i++) {\n      if (i != last)\n        maxi = max(maxi, points[0][i]);\n    }\n    // Store the result in dp array and return it\n    return dp[day][last] = maxi;\n  }\n\n  int maxi = 0;\n  // Iterate through the activities for the current day\n  for (int i = 0; i &lt;= 2; i++) {\n    if (i != last) {\n      // Calculate the points for the current activity and add it to the\n      // maximum points obtained so far (recursively calculated)\n      int activity = points[day][i] + f(day - 1, i, points, dp);\n      maxi = max(maxi, activity);\n    }\n  }\n\n  // Store the result in dp array and return it\n  return dp[day][last] = maxi;\n}\n\n// Function to find the maximum points for ninja training\nint ninjaTraining(int n, vector&lt;vector&lt;int&gt;&gt; &amp;points) {\n  // Create a memoization table (dp) to store intermediate results\n  vector&lt;vector&lt;int&gt;&gt; dp(n, vector&lt;int&gt;(4, -1));\n  // Start the recursive calculation from the last day with no previous activity\n  return f(n - 1, 3, points, dp);\n}\n\nint main() {\n  // Define the points matrix\n  vector&lt;vector&lt;int&gt;&gt; points = {{10, 40, 70},\n                                 {20, 50, 80},\n                                 {30, 60, 90}};\n\n  int n = points.size();  // Get the number of days\n  // Call the ninjaTraining function to find the maximum points and print the result\n  cout &lt;&lt; ninjaTraining(n, points);\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block \" data-lang=\"java\">\n<pre class=\"wp-block-code\"><code lang=\"java\" class=\"language-java\">\nimport java.util.*;\n\nclass TUF {\n    // Recursive function to calculate the maximum points for the ninja training\n    static int f(int day, int last, int[][] points, int[][] dp) {\n        // If the result is already calculated, return it\n        if (dp[day][last] != -1) return dp[day][last];\n\n        // Base case: When it's the first day (day == 0)\n        if (day == 0) {\n            int maxi = 0;\n            for (int i = 0; i &lt;= 2; i++) {\n                if (i != last)\n                    maxi = Math.max(maxi, points[0][i]);\n            }\n            return dp[day][last] = maxi; // Store and return the result\n        }\n\n        int maxi = 0;\n        // Loop through the three activities on the current day\n        for (int i = 0; i &lt;= 2; i++) {\n            if (i != last) {\n                // Calculate the points for the current activity and recursively\n                // calculate the maximum points for the previous day\n                int activity = points[day][i] + f(day - 1, i, points, dp);\n                maxi = Math.max(maxi, activity); // Update the maximum points\n            }\n        }\n\n        return dp[day][last] = maxi; // Store and return the result\n    }\n\n    // Function to find the maximum points for ninja training\n    static int ninjaTraining(int n, int[][] points) {\n        // Initialize a memoization table with -1 values\n        int dp[][] = new int[n][4];\n        for (int[] row : dp)\n            Arrays.fill(row, -1);\n\n        // Start the recursive calculation from the last day (n - 1) with the last activity (3)\n        return f(n - 1, 3, points, dp);\n    }\n\n    public static void main(String args[]) {\n        // Define the points for each activity on each day\n        int[][] points = {{10, 40, 70},\n                          {20, 50, 80},\n                          {30, 60, 90}};\n\n        int n = points.length; // Get the number of days\n        System.out.println(ninjaTraining(n, points)); // Calculate and print the maximum points\n    }\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"python\">\n<pre class=\"wp-block-code\"><code lang=\"python\" class=\"language-python\">\ndef f(day, last, points, dp):\n    # Check if the result for this day and last activity is already computed.\n    if dp[day][last] != -1:\n        return dp[day][last]\n\n    # Base case: When we reach day 0, return the maximum point for the last day.\n    if day == 0:\n        maxi = 0\n        for i in range(3):\n            if i != last:\n                maxi = max(maxi, points[0][i])\n        dp[day][last] = maxi\n        return dp[day][last]\n\n    maxi = 0\n    # Iterate through all activities for the current day.\n    for i in range(3):\n        if i != last:\n            # Calculate the total points for the current day's activity and recursively call for the previous day.\n            activity = points[day][i] + f(day - 1, i, points, dp)\n            maxi = max(maxi, activity)\n\n    # Store the maximum points in the DP table and return it.\n    dp[day][last] = maxi\n    return dp[day][last]\n\ndef ninjaTraining(n, points):\n    # Initialize a DP table to store the computed results.\n    dp = [[-1 for j in range(4)] for i in range(n)]\n    # Start the recursive function from the last day with no previous activity.\n    return f(n - 1, 3, points, dp)\n\ndef main():\n    # Define the points matrix for each day.\n    points = [[10, 40, 70],\n              [20, 50, 80],\n              [30, 60, 90]]\n\n    n = len(points)  # Get the number of days.\n    # Call the ninjaTraining function to find the maximum points.\n    print(ninjaTraining(n, points))\n\nif __name__ == '__main__':\n    main()\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"javascript\">\n<pre class=\"wp-block-code\"><code lang=\"javascript\" class=\"language-javascript\">\nfunction ninjaTraining(n, points) {\n  // Create a 2D array 'dp' with dimensions (n x 4) and initialize it with -1\n  let dp = new Array(n);\n  for (let i = 0; i &lt; n; i++) {\n    dp[i] = new Array(4).fill(-1);\n  }\n\n  // Define the recursive function 'f' with parameters 'day', 'last', 'points', and 'dp'\n  function f(day, last) {\n    // If the result is already calculated, return it from 'dp'\n    if (dp[day][last] !== -1) return dp[day][last];\n\n    // Base case: When 'day' is 0, calculate the maximum points for the last day\n    if (day === 0) {\n      let maxi = 0;\n      for (let i = 0; i &lt;= 2; i++) {\n        if (i !== last) {\n          maxi = Math.max(maxi, points[0][i]);\n        }\n      }\n      return dp[day][last] = maxi;\n    }\n\n    // Initialize 'maxi' to store the maximum points\n    let maxi = 0;\n\n    // Iterate through the activities for the current day\n    for (let i = 0; i &lt;= 2; i++) {\n      if (i !== last) {\n        // Calculate the points for the current activity and recursively call 'f' for the previous day\n        let activity = points[day][i] + f(day - 1, i);\n        maxi = Math.max(maxi, activity);\n      }\n    }\n\n    // Store the result in 'dp' and return it\n    return dp[day][last] = maxi;\n  }\n\n  // Call the recursive function 'f' to find the maximum points starting from day 'n-1' and 'last' activity 3\n  return f(n - 1, 3);\n}\n\n// Define the 'points' array with the ninja training data\nlet points = [\n  [10, 40, 70],\n  [20, 50, 80],\n  [30, 60, 90]\n];\n\n// Get the number of days\nlet n = points.length;\n\n// Call the 'ninjaTraining' function and print the result\nconsole.log(ninjaTraining(n, points));\n</code>\n</pre>\n</div>\n<p>\n<!-- Insert Output of Brute Force Here -->\n</p><p><strong>Output:</strong> 210\n\n</p>\n<p></p>\n</div>\n</details>\n<details class=\"secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nComplexity Analysis\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<p>\n<!-- Insert Time and Space Complexity of Brute Force Here -->\n</p><p><strong>Time Complexity: O(N*4*3)</strong></p>\n<p>Reason: There are N*4 states and for every state, we are running a for loop iterating three times.</p>\n<p><strong>Space Complexity: O(N) + O(N*4)</strong></p>\n<p>Reason: We are using a recursion stack space(O(N)) and a 2D array (again O(N*4)). Therefore total space complexity will be O(N) + O(N) \u2248 O(N)</p>\n<p></p>\n</details>\n</div>\n</details>\n</div>\n<!-- Brute Force Approach Ends here -->\n\n\n<!-- Better Approach Starts from here -->\n\n<div id=\"better-approach\">\n<details>\n<summary class=\"main-summary\">\n<span>\nTabulation Approach\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"common-drops\">\n<details class=\"secondary-details\" open=\"\">\n<summary class=\"secondary-summary\">\n<span>\nAlgorithm / Intuition\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"approach-algorithm\">\n\n<!-- Insert Algorithm / Intuition For Better Approach Here -->\n<p><strong>Steps to convert Recursive Solution to Tabulation one.</strong></p>\n<ul><li>Declare a dp[] array of size [n][4]</li><li>First initialize the base condition values. We know that base condition arises when day = 0. Therefore, we can say that the following will be the base conditions<ul><li>dp[0][0] = max(points[0][1], points[0][2])&nbsp;</li><li>dp[0][1] = max(points[0][0], points[0][2])&nbsp;</li><li>dp[0][2] = max(points[0][0], points[0][1])&nbsp;</li><li>dp[0][3] = max(points[0][0], points[0][1] and points[0][2])&nbsp;</li></ul></li><li>Set an iterative loop which traverses dp array (from index 1 to n) and for every index set its value according to the recursive logic</li></ul>\n</div>\n</details>\n<details class=\"code-section secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nCode\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"code-tabs\">\n<button class=\"code-tab dsa_article_code_active\" data-lang=\"cpp\">C++</button>\n<button class=\"code-tab\" data-lang=\"java\">Java</button>\n<button class=\"code-tab\" data-lang=\"python\">Python</button>\n<button class=\"code-tab\" data-lang=\"javascript\">JavaScript</button>\n<svg width=\"17\" class=\"copy-btn\" height=\"20\" viewBox=\"0 0 17 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M2 20C1.45 20 0.979002 19.804 0.587002 19.412C0.195002 19.02 -0.000664969 18.5493 1.69779e-06 18V4H2V18H13V20H2ZM6 16C5.45 16 4.979 15.804 4.587 15.412C4.195 15.02 3.99934 14.5493 4 14V2C4 1.45 4.196 0.979002 4.588 0.587002C4.98 0.195002 5.45067 -0.000664969 6 1.69779e-06H15C15.55 1.69779e-06 16.021 0.196002 16.413 0.588002C16.805 0.980002 17.0007 1.45067 17 2V14C17 14.55 16.804 15.021 16.412 15.413C16.02 15.805 15.5493 16.0007 15 16H6ZM6 14H15V2H6V14Z\">\n</path>\n</svg>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block dsa_article_code_active\" data-lang=\"cpp\">\n<pre class=\"wp-block-code\"><code lang=\"cpp\" class=\"language-cpp\">\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\n// Function to find the maximum points for ninja training\nint ninjaTraining(int n, vector&lt;vector&lt;int&gt;&gt;&amp; points) {\n  // Create a 2D DP (Dynamic Programming) table to store the maximum points\n  // dp[i][j] represents the maximum points at day i, considering the last activity as j\n  vector&lt;vector&lt;int&gt;&gt; dp(n, vector&lt;int&gt;(4, 0));\n\n  // Initialize the DP table for the first day (day 0)\n  dp[0][0] = max(points[0][1], points[0][2]);\n  dp[0][1] = max(points[0][0], points[0][2]);\n  dp[0][2] = max(points[0][0], points[0][1]);\n  dp[0][3] = max(points[0][0], max(points[0][1], points[0][2]));\n\n  // Iterate through the days starting from day 1\n  for (int day = 1; day &lt; n; day++) {\n    for (int last = 0; last &lt; 4; last++) {\n      dp[day][last] = 0;\n      // Iterate through the tasks for the current day\n      for (int task = 0; task &lt;= 2; task++) {\n        if (task != last) {\n          // Calculate the points for the current activity and add it to the\n          // maximum points obtained on the previous day (recursively calculated)\n          int activity = points[day][task] + dp[day - 1][task];\n          // Update the maximum points for the current day and last activity\n          dp[day][last] = max(dp[day][last], activity);\n        }\n      }\n    }\n  }\n\n  // The maximum points for the last day with any activity can be found in dp[n-1][3]\n  return dp[n - 1][3];\n}\n\nint main() {\n  // Define the points matrix\n  vector&lt;vector&lt;int&gt;&gt; points = {{10, 40, 70},\n                                 {20, 50, 80},\n                                 {30, 60, 90}};\n  int n = points.size();  // Get the number of days\n  // Call the ninjaTraining function to find the maximum points and print the result\n  cout &lt;&lt; ninjaTraining(n, points);\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block \" data-lang=\"java\">\n<pre class=\"wp-block-code\"><code lang=\"java\" class=\"language-java\">\nimport java.util.*;\n\nclass TUF {\n    // Function to find the maximum points for ninja training\n    static int ninjaTraining(int n, int[][] points) {\n        // Initialize a 2D array 'dp' to store the maximum points\n        int[][] dp = new int[n][4];\n        \n        // Initialize the first day's maximum points based on the available choices\n        dp[0][0] = Math.max(points[0][1], points[0][2]);\n        dp[0][1] = Math.max(points[0][0], points[0][2]);\n        dp[0][2] = Math.max(points[0][0], points[0][1]);\n        dp[0][3] = Math.max(points[0][0], Math.max(points[0][1], points[0][2]));\n\n        // Iterate through each day and each activity\n        for (int day = 1; day &lt; n; day++) {\n            for (int last = 0; last &lt; 4; last++) {\n                dp[day][last] = 0; // Initialize the maximum points for the current day and last activity\n                // Consider each possible task for the current day\n                for (int task = 0; task &lt;= 2; task++) {\n                    if (task != last) { // Ensure that the current task is different from the last\n                        // Calculate the points for the current activity and add it to the maximum points from the previous day\n                        int activity = points[day][task] + dp[day - 1][task];\n                        // Update the maximum points for the current day and last activity\n                        dp[day][last] = Math.max(dp[day][last], activity);\n                    }\n                }\n            }\n        }\n\n        // Return the maximum points achievable after all days (last activity is 3)\n        return dp[n - 1][3];\n    }\n\n    public static void main(String args[]) {\n        // Define the points for each activity on each day\n        int[][] points = {{10, 40, 70},\n                          {20, 50, 80},\n                          {30, 60, 90}};\n\n        int n = points.length; // Get the number of days\n        System.out.println(ninjaTraining(n, points)); // Calculate and print the maximum points\n    }\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"python\">\n<pre class=\"wp-block-code\"><code lang=\"python\" class=\"language-python\">\ndef ninjaTraining(n, points):\n    # Initialize a DP table with dimensions (n x 4) to store the maximum points.\n    dp = [[0 for j in range(4)] for i in range(n)]\n\n    # Initialize the DP table for day 0 with base cases.\n    dp[0][0] = max(points[0][1], points[0][2])\n    dp[0][1] = max(points[0][0], points[0][2])\n    dp[0][2] = max(points[0][0], points[0][1])\n    dp[0][3] = max(points[0][0], max(points[0][1], points[0][2]))\n\n    # Loop through the days starting from the second day.\n    for day in range(1, n):\n        for last in range(4):\n            dp[day][last] = 0  # Initialize the maximum points for the current day and last activity.\n            for task in range(3):\n                if task != last:\n                    # Calculate the total points for the current day's activity and the previous day's maximum points.\n                    activity = points[day][task] + dp[day - 1][task]\n                    dp[day][last] = max(dp[day][last], activity)\n\n    # Return the maximum points achievable after the last day with any activity.\n    return dp[n - 1][3]\n\ndef main():\n    # Define the points matrix for each day.\n    points = [[10, 40, 70],\n              [20, 50, 80],\n              [30, 60, 90]]\n    n = len(points)  # Get the number of days.\n    # Call the ninjaTraining function to find the maximum points.\n    print(ninjaTraining(n, points))\n\nif __name__ == '__main__':\n    main()\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"javascript\">\n<pre class=\"wp-block-code\"><code lang=\"javascript\" class=\"language-javascript\">\nfunction ninjaTraining(n, points) {\n  // Create a 2D array 'dp' with dimensions (n x 4) and initialize it with 0\n  let dp = new Array(n);\n  for (let i = 0; i &lt; n; i++) {\n    dp[i] = new Array(4).fill(0);\n  }\n\n  // Initialize the base cases for the first day\n  dp[0][0] = Math.max(points[0][1], points[0][2]);\n  dp[0][1] = Math.max(points[0][0], points[0][2]);\n  dp[0][2] = Math.max(points[0][0], points[0][1]);\n  dp[0][3] = Math.max(points[0][0], Math.max(points[0][1], points[0][2]));\n\n  // Loop through each day and calculate the maximum points\n  for (let day = 1; day &lt; n; day++) {\n    for (let last = 0; last &lt; 4; last++) {\n      dp[day][last] = 0;\n      for (let task = 0; task &lt;= 2; task++) {\n        if (task !== last) {\n          // Calculate the points for the current activity and update 'dp'\n          let activity = points[day][task] + dp[day - 1][task];\n          dp[day][last] = Math.max(dp[day][last], activity);\n        }\n      }\n    }\n  }\n\n  // The maximum points are stored in dp[n-1][3]\n  return dp[n - 1][3];\n}\n\n// Define the 'points' array with the ninja training data\nlet points = [\n  [10, 40, 70],\n  [20, 50, 80],\n  [30, 60, 90]\n];\n\n// Get the number of days\nlet n = points.length;\n\n// Call the 'ninjaTraining' function and print the result\nconsole.log(ninjaTraining(n, points));\n</code>\n</pre>\n</div>\n<p>\n<!-- Insert Output of Better Approach Here -->\n<strong>Output:</strong> 210\n\n\n</p>\n</div>\n</details>\n<details class=\"secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nComplexity Analysis\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<p>\n\n<!-- Insert Time and Space Complexity of Better Approach Here -->\n</p><p><strong>Time Complexity: O(N*4*3)</strong></p>\n<p>Reason: There are three nested loops</p>\n<p><strong>Space Complexity: O(N*4)</strong></p>\n<p>Reason: We are using an external array of size \u2018N*4\u2019\u2019.</p>\n<p></p>\n</details>\n</div>\n</details>\n</div>\n<!-- Better Approach Ends from here -->\n\n\n<!-- Optimal Approach Starts from here -->\n\n<div id=\"optimal-approach\">\n<details>\n<summary class=\"main-summary\">\n<span>\nSpace Optimization Approach \n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"common-drops\">\n<details class=\"secondary-details\" open=\"\">\n<summary class=\"secondary-summary\">\n<span>\nAlgorithm / Intuition\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"approach-algorithm\">\n\n<!-- Insert Algorithm of Better Approach Here -->\n<p>If we closely look the relation,</p>\n<p><strong>dp[day][last] =&nbsp; max(dp[day][last],points[day][task] + dp[day-1][task])</strong></p>\n<p>Here the task can be anything from 0 to 3 and day-1 is the previous stage of recursion. So in order to compute any dp array value, we only require the last row to calculate it.</p>\n<p><img width=\"624\" height=\"371\" src=\"https://lh6.googleusercontent.com/h8hPUVG4IJLRC8iqxj_G3H-hipLl-ePUukkic_x1p7x0tyCSeQi3Y3BRe6aZz6-QDo_xQ5779xD6e0fpajHe0fwgasKhhDVQeheGn7_HJPYF3sk9WQTszB4aajYqWalVG_wRVn6j\"></p>\n<p><img width=\"624\" height=\"375\" src=\"https://lh6.googleusercontent.com/YPeT1xAvQBB9XF6z6g1KX1ogCI2crJMBGgnGt2R9_IXh-wWwZTgI0HYy9hyby7xDllrJ3czzmGQdwxmtNzM1gtI2V8w7KVIv28fbUgh1LDrLZrOn74VVbXM9Q53IfgwuyQdyk-Zt\"></p>\n<ul><li>So rather than storing the entire 2D Array of size N*4, we can just store values of size 4(say prev).&nbsp;</li><li>We can then take a dummy array, again of size 4 (say temp) and calculate the next row\u2019s value using the array we stored in step 1.</li><li>After that whenever we move to the next day, the temp array becomes our prev for the next step.</li><li>At last prev[3] will give us the answer.</li></ul>\n</div>\n</details>\n<details class=\"code-section secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nCode\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<div class=\"code-tabs\">\n<button class=\"code-tab dsa_article_code_active\" data-lang=\"cpp\">C++</button>\n<button class=\"code-tab\" data-lang=\"java\">Java</button>\n<button class=\"code-tab\" data-lang=\"python\">Python</button>\n<button class=\"code-tab\" data-lang=\"javascript\">JavaScript</button>\n<svg width=\"17\" class=\"copy-btn\" height=\"20\" viewBox=\"0 0 17 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M2 20C1.45 20 0.979002 19.804 0.587002 19.412C0.195002 19.02 -0.000664969 18.5493 1.69779e-06 18V4H2V18H13V20H2ZM6 16C5.45 16 4.979 15.804 4.587 15.412C4.195 15.02 3.99934 14.5493 4 14V2C4 1.45 4.196 0.979002 4.588 0.587002C4.98 0.195002 5.45067 -0.000664969 6 1.69779e-06H15C15.55 1.69779e-06 16.021 0.196002 16.413 0.588002C16.805 0.980002 17.0007 1.45067 17 2V14C17 14.55 16.804 15.021 16.412 15.413C16.02 15.805 15.5493 16.0007 15 16H6ZM6 14H15V2H6V14Z\">\n</path>\n</svg>\n</div>\n<div class=\"code-content\">\n<div class=\"code-block dsa_article_code_active\" data-lang=\"cpp\">\n<pre class=\"wp-block-code\"><code lang=\"cpp\" class=\"language-cpp\">\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\n// Function to find the maximum points for ninja training\nint ninjaTraining(int n, vector&lt;vector&lt;int&gt;&gt;&amp; points) {\n  // Initialize a vector to store the maximum points for the previous day's activities\n  vector&lt;int&gt; prev(4, 0);\n\n  // Initialize the DP table for the first day (day 0)\n  prev[0] = max(points[0][1], points[0][2]);\n  prev[1] = max(points[0][0], points[0][2]);\n  prev[2] = max(points[0][0], points[0][1]);\n  prev[3] = max(points[0][0], max(points[0][1], points[0][2]));\n\n  // Iterate through the days starting from day 1\n  for (int day = 1; day &lt; n; day++) {\n    // Create a temporary vector to store the maximum points for the current day's activities\n    vector&lt;int&gt; temp(4, 0);\n    for (int last = 0; last &lt; 4; last++) {\n      temp[last] = 0;\n      // Iterate through the tasks for the current day\n      for (int task = 0; task &lt;= 2; task++) {\n        if (task != last) {\n          // Calculate the points for the current activity and add it to the\n          // maximum points obtained on the previous day (stored in prev)\n          temp[last] = max(temp[last], points[day][task] + prev[task]);\n        }\n      }\n    }\n    // Update prev with the maximum points for the current day\n    prev = temp;\n  }\n\n  // The maximum points for the last day with any activity can be found in prev[3]\n  return prev[3];\n}\n\nint main() {\n  // Define the points matrix\n  vector&lt;vector&lt;int&gt;&gt; points = {{10, 40, 70},\n                                 {20, 50, 80},\n                                 {30, 60, 90}};\n  int n = points.size();  // Get the number of days\n  // Call the ninjaTraining function to find the maximum points and print the result\n  cout &lt;&lt; ninjaTraining(n, points);\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block \" data-lang=\"java\">\n<pre class=\"wp-block-code\"><code lang=\"java\" class=\"language-java\">\nimport java.util.*;\n\nclass TUF {\n    // Function to find the maximum points for ninja training\n    static int ninjaTraining(int n, int[][] points) {\n        // Initialize an array 'prev' to store the maximum points for the previous day\n        int prev[] = new int[4];\n\n        // Initialize the first day's maximum points based on the available choices\n        prev[0] = Math.max(points[0][1], points[0][2]);\n        prev[1] = Math.max(points[0][0], points[0][2]);\n        prev[2] = Math.max(points[0][0], points[0][1]);\n        prev[3] = Math.max(points[0][0], Math.max(points[0][1], points[0][2]));\n\n        // Iterate through each day starting from the second day\n        for (int day = 1; day &lt; n; day++) {\n            // Initialize an array 'temp' to store the maximum points for the current day\n            int temp[] = new int[4];\n            for (int last = 0; last &lt; 4; last++) {\n                temp[last] = 0; // Initialize the maximum points for the current day and last activity\n                // Consider each possible task for the current day\n                for (int task = 0; task &lt;= 2; task++) {\n                    if (task != last) { // Ensure that the current task is different from the last\n                        // Calculate the points for the current activity and add it to the maximum points from the previous day\n                        temp[last] = Math.max(temp[last], points[day][task] + prev[task]);\n                    }\n                }\n            }\n            // Update 'prev' to store the maximum points for the current day\n            prev = temp;\n        }\n\n        // Return the maximum points achievable after all days (last activity is 3)\n        return prev[3];\n    }\n\n    public static void main(String args[]) {\n        // Define the points for each activity on each day\n        int[][] points = {{10, 40, 70},\n                          {20, 50, 80},\n                          {30, 60, 90}};\n\n        int n = points.length; // Get the number of days\n        System.out.println(ninjaTraining(n, points)); // Calculate and print the maximum points\n    }\n}\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"python\">\n<pre class=\"wp-block-code\"><code lang=\"python\" class=\"language-python\">\ndef ninjaTraining(n, points):\n    # Initialize a list 'prev' to store the maximum points for each possible last activity on the previous day.\n    prev = [0] * 4\n\n    # Initialize 'prev' with the maximum points for the first day's activities.\n    prev[0] = max(points[0][1], points[0][2])\n    prev[1] = max(points[0][0], points[0][2])\n    prev[2] = max(points[0][0], points[0][1])\n    prev[3] = max(points[0][0], max(points[0][1], points[0][2]))\n\n    # Loop through the days starting from the second day.\n    for day in range(1, n):\n        # Initialize a temporary list 'temp' to store the maximum points for each possible last activity on the current day.\n        temp = [0] * 4\n\n        for last in range(4):\n            # Initialize 'temp' for the current last activity.\n            temp[last] = 0\n\n            for task in range(3):\n                if task != last:\n                    # Calculate the total points for the current day's activity and the previous day's maximum points.\n                    activity = points[day][task] + prev[task]\n                    # Update 'temp' with the maximum points for the current last activity.\n                    temp[last] = max(temp[last], activity)\n\n        # Update 'prev' with 'temp' for the next iteration.\n        prev = temp\n\n    # Return the maximum points achievable after the last day with any activity.\n    return prev[3]\n\ndef main():\n    # Define the points matrix for each day.\n    points = [[10, 40, 70],\n              [20, 50, 80],\n              [30, 60, 90]]\n    n = len(points)  # Get the number of days.\n    # Call the ninjaTraining function to find and print the maximum points.\n    print(ninjaTraining(n, points))\n\nif __name__ == '__main__':\n    main()\n</code>\n</pre>\n</div>\n<div class=\"code-block\" data-lang=\"javascript\">\n<pre class=\"wp-block-code\"><code lang=\"javascript\" class=\"language-javascript\">\nfunction ninjaTraining(n, points) {\n  // Initialize the 'prev' array with 4 elements, all set to 0\n  let prev = new Array(4).fill(0);\n\n  // Initialize the base cases for the first day\n  prev[0] = Math.max(points[0][1], points[0][2]);\n  prev[1] = Math.max(points[0][0], points[0][2]);\n  prev[2] = Math.max(points[0][0], points[0][1]);\n  prev[3] = Math.max(points[0][0], Math.max(points[0][1], points[0][2]));\n\n  // Loop through each day and calculate the maximum points\n  for (let day = 1; day &lt; n; day++) {\n    // Initialize a temporary 'temp' array with 4 elements, all set to 0\n    let temp = new Array(4).fill(0);\n    for (let last = 0; last &lt; 4; last++) {\n      // Initialize the current 'temp' value to 0\n      temp[last] = 0;\n      for (let task = 0; task &lt;= 2; task++) {\n        if (task !== last) {\n          // Calculate the points for the current activity and update 'temp'\n          temp[last] = Math.max(temp[last], points[day][task] + prev[task]);\n        }\n      }\n    }\n\n    // Update 'prev' with the values from 'temp' for the next iteration\n    prev = temp;\n  }\n\n  // The maximum points are stored in 'prev[3]'\n  return prev[3];\n}\n\n// Define the 'points' array with the ninja training data\nlet points = [\n  [10, 40, 70],\n  [20, 50, 80],\n  [30, 60, 90]\n];\n\n// Get the number of days\nlet n = points.length;\n\n// Call the 'ninjaTraining' function and print the result\nconsole.log(ninjaTraining(n, points));\n</code>\n</pre>\n</div>\n<p>\n<!-- Insert Output of Optimal Apporach Here -->\n<strong>Output:</strong>210\n\n\n</p>\n</div>\n</details>\n<details class=\"secondary-details\">\n<summary class=\"secondary-summary\">\n<span>\nComplexity Analysis\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\">\n</path>\n</svg>\n</summary>\n<p>\n\n<!-- Insert Time and Space Complexity of Optimal Approach-->\n</p><p><strong>Time Complexity: O(N*4*3)</strong></p>\n<p>Reason: There are three nested loops</p>\n<p><strong>Space Complexity: O(4)</strong></p>\n<p>Reason: We are using an external array of size \u20184\u2019 to store only one row.</p>\n<p></p>\n</details>\n</div>\n</details>\n</div>\n<!-- Optimal Approach Starts from here -->\n</div>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<!-- This is Video Explination Drop-Down -->\n<div class=\"dsa_article_youtube_video\" id=\"dsa_article_video_explanation\">\n<details>\n<summary class=\"main-summary\">\n<span>\nVideo Explanation\n</span>\n<svg class=\"arrow-svg opacity-75\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n<path d=\"M12.95 10.707l.707-.707L8 4.343 6.586 5.757 10.828 10l-4.242 4.243L8 15.657l4.95-4.95z\"></path>\n</svg>\n</summary>\n<div class=\"yt-video-wrapper\">\n\n<!-- Insert iframe embed Link of Youtube Video-->\n<iframe class=\"lazy-loaded\" loading=\"lazy\" title=\"Ninja's Training\" width=\"810\" height=\"456\" data-lazy-type=\"iframe\" data-src=\"https://www.youtube.com/embed/AE39gJYuRog?si=W6KTv4pKUqmn9ban\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen=\"\" src=\"https://www.youtube.com/embed/AE39gJYuRog?feature=oembed\"></iframe><noscript>\n<iframe loading=\"lazy\" title=\"Ninja's Training\" width=\"810\" height=\"456\" src=\"https://www.youtube.com/embed/AE39gJYuRog?si=W6KTv4pKUqmn9ban\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen=\"\"></iframe></noscript>\n</div>\n</details>\n</div>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<script>\n\nconst codeSections = document.querySelectorAll('.code-section');\n\n// Get last selected language from localStorage or set default value\nlet lastSelectedLanguage = localStorage.getItem('lastSelectedLanguage') || 'cpp'; \n\ncodeSections.forEach((section, sectionIndex) => {\nconst codeTabs = section.querySelectorAll('.code-tab');\nconst codeBlocks = section.querySelectorAll('.code-block');\nconst copyBtn = section.querySelector('.copy-btn');\n\ncodeTabs.forEach((tab) => {\ntab.addEventListener('click', () => {\ncodeTabs.forEach((t) => {\nt.classList.remove('dsa_article_code_active');\n});\ntab.classList.add('dsa_article_code_active');\n\nconst lang = tab.dataset.lang;\nconst activeBlock = section.querySelector(`.code-block[data-lang=\"${lang}\"]`);\ncodeBlocks.forEach((block) => {\nif (block === activeBlock) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n\n// Update last selected language for all sections and store in localStorage\nlastSelectedLanguage = lang;\nlocalStorage.setItem('lastSelectedLanguage', lang);\ncodeSections.forEach((otherSection, otherIndex) => {\nif (otherIndex !== sectionIndex) {\nconst otherTabs = otherSection.querySelectorAll('.code-tab');\notherTabs.forEach((otherTab) => {\nif (otherTab.dataset.lang === lang) {\notherTab.classList.add('dsa_article_code_active');\n} else {\notherTab.classList.remove('dsa_article_code_active');\n}\n});\nconst otherActiveBlock = otherSection.querySelector(`.code-block[data-lang=\"${lang}\"]`);\nconst otherCodeBlocks = otherSection.querySelectorAll('.code-block');\notherCodeBlocks.forEach((block) => {\nif (block === otherActiveBlock) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n}\n});\n});\n});\n\n// Handle copy button click event\ncopyBtn.addEventListener('click', () => {\nconst activeBlock = section.querySelector('.code-block.dsa_article_code_active code');\nnavigator.clipboard.writeText(activeBlock.innerText);\ncopyBtn.classList.add('dsa_article_code_active');\nsetTimeout(() => {\ncopyBtn.classList.remove('dsa_article_code_active');\n}, 1000);\n});\n});\n\n// Set initial state of the tabs\ncodeSections.forEach((section) => {\nconst codeTabs = section.querySelectorAll('.code-tab');\nconst codeBlocks = section.querySelectorAll('.code-block');\n\ncodeTabs.forEach((tab) => {\nif (tab.dataset.lang === lastSelectedLanguage) {\ntab.classList.add('dsa_article_code_active');\n} else {\ntab.classList.remove('dsa_article_code_active');\n}\n});\n\ncodeBlocks.forEach((block) => {\nif (block.dataset.lang === lastSelectedLanguage) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n});\n</script>\n<script>\nconst codeSections = document.querySelectorAll('.code-section');\n\nlet lastSelectedLanguage = localStorage.getItem('lastSelectedLanguage') || 'cpp'; \n\ncodeSections.forEach((section, sectionIndex) => {\nconst codeTabs = section.querySelectorAll('.code-tab');\nconst codeBlocks = section.querySelectorAll('.code-block');\nconst copyBtn = section.querySelector('.copy-btn');\n\ncodeTabs.forEach((tab) => {\ntab.addEventListener('click', () => {\ncodeTabs.forEach((t) => {\nt.classList.remove('dsa_article_code_active');\n});\ntab.classList.add('dsa_article_code_active');\n\nconst lang = tab.dataset.lang;\nconst activeBlock = section.querySelector(`.code-block[data-lang=\"${lang}\"]`);\ncodeBlocks.forEach((block) => {\nif (block === activeBlock) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n\nlastSelectedLanguage = lang;\nlocalStorage.setItem('lastSelectedLanguage', lang);\ncodeSections.forEach((otherSection, otherIndex) => {\nif (otherIndex !== sectionIndex) {\nconst otherTabs = otherSection.querySelectorAll('.code-tab');\notherTabs.forEach((otherTab) => {\nif (otherTab.dataset.lang === lang) {\notherTab.classList.add('dsa_article_code_active');\n} else {\notherTab.classList.remove('dsa_article_code_active');\n}\n});\nconst otherActiveBlock = otherSection.querySelector(`.code-block[data-lang=\"${lang}\"]`);\nconst otherCodeBlocks = otherSection.querySelectorAll('.code-block');\notherCodeBlocks.forEach((block) => {\nif (block === otherActiveBlock) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n}\n});\n});\n});\n\ncopyBtn.addEventListener('click', () => {\nconst activeBlock = section.querySelector('.code-block.dsa_article_code_active code');\nnavigator.clipboard.writeText(activeBlock.innerText);\ncopyBtn.classList.add('dsa_article_code_active');\nsetTimeout(() => {\ncopyBtn.classList.remove('dsa_article_code_active');\n}, 1000);\n});\n});\n\ncodeSections.forEach((section) => {\nconst codeTabs = section.querySelectorAll('.code-tab');\nconst codeBlocks = section.querySelectorAll('.code-block');\n\ncodeTabs.forEach((tab) => {\nif (tab.dataset.lang === lastSelectedLanguage) {\ntab.classList.add('dsa_article_code_active');\n} else {\ntab.classList.remove('dsa_article_code_active');\n}\n});\n\ncodeBlocks.forEach((block) => {\nif (block.dataset.lang === lastSelectedLanguage) {\nblock.classList.add('dsa_article_code_active');\n} else {\nblock.classList.remove('dsa_article_code_active');\n}\n});\n});\n</script>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css\">\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js\"></script>\n<script src=\"index.js\"></script>\n<script>hljs.highlightAll();</script>\n<!-- /wp:html -->\n\n<!-- wp:html -->\n<script src=\"https://takeuforward.org/UXApproachDropDowns/3ApproachJSScript.js\"></script>\n<!-- /wp:html -->\n\n<!-- wp:quote -->\n<blockquote class=\"wp-block-quote\"><p><em>Special thanks to\u00a0<strong><a href=\"https://www.linkedin.com/in/anshuman-sharma-a1b245194/\" target=\"_blank\" rel=\"noreferrer noopener\">Anshuman Sharma</a></strong>\u00a0and <a href=\"https://www.linkedin.com/in/abhipsita-das-5b7069212/?originalSubdomain=in\" target=\"_blank\" rel=\"noopener\" title=\"\"><strong>Abhipsita Das</strong></a></em> <em>for contributing to this article on takeUforward. If you also wish to share your knowledge with the takeUforward fam,\u00a0</em><a href=\"https://takeuforward.org/interviews/paid-work-from-home-internship-at-takeuforward/\"><strong>please check out this article</strong></a></p></blockquote>\n<!-- /wp:quote -->"
}